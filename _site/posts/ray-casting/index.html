<!doctype html><html lang="en" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="theme-color" media="(prefers-color-scheme: light)" content="#f7f7f7"><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1b1b1e"><meta name="mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><meta name="viewport" content="width=device-width, user-scalable=no initial-scale=1, shrink-to-fit=no, viewport-fit=cover" ><meta name="generator" content="Jekyll v4.3.4" /><meta property="og:title" content="Unconventional Raycasting" /><meta property="og:locale" content="en" /><meta name="description" content="Raycasting basics" /><meta property="og:description" content="Raycasting basics" /><link rel="canonical" href="https://talhahasanzia.github.io/posts/ray-casting/" /><meta property="og:url" content="https://talhahasanzia.github.io/posts/ray-casting/" /><meta property="og:site_name" content="Half Smart" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2015-09-15T00:00:00+05:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Unconventional Raycasting" /><meta name="twitter:site" content="@talhahasanzia" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2015-09-15T00:00:00+05:00","datePublished":"2015-09-15T00:00:00+05:00","description":"Raycasting basics","headline":"Unconventional Raycasting","mainEntityOfPage":{"@type":"WebPage","@id":"https://talhahasanzia.github.io/posts/ray-casting/"},"url":"https://talhahasanzia.github.io/posts/ray-casting/"}</script><title>Unconventional Raycasting | Half Smart</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Half Smart"><meta name="application-name" content="Half Smart"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="/assets/css/jekyll-theme-chirpy.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.7.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tocbot@4.32.2/dist/tocbot.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/glightbox@3.3.0/dist/css/glightbox.min.css"> <script src="/assets/js/dist/theme.min.js"></script> <script defer src="https://cdn.jsdelivr.net/combine/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js,npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.umd.min.js,npm/glightbox@3.3.0/dist/js/glightbox.min.js,npm/clipboard@2.0.11/dist/clipboard.min.js,npm/dayjs@1.11.13/dayjs.min.js,npm/dayjs@1.11.13/locale/en.js,npm/dayjs@1.11.13/plugin/relativeTime.js,npm/dayjs@1.11.13/plugin/localizedFormat.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script defer src="/app.min.js?baseurl=&register=true" ></script><body><aside aria-label="Sidebar" id="sidebar" class="d-flex flex-column align-items-end"><header class="profile-wrapper"> <a href="/" id="avatar" class="rounded-circle"><img src="/idea.png" width="112" height="112" alt="avatar" onerror="this.style.display='none'"></a> <a class="site-title d-block" href="/">Half Smart</a><p class="site-subtitle fst-italic mb-0">Guiding you halfway, the rest is your journey.</p></header><nav class="flex-column flex-grow-1 w-100 ps-0"><ul class="nav"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tags"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle"></i> <span>ABOUT</span> </a></ul></nav><div class="sidebar-bottom d-flex flex-wrap align-items-center w-100"> <button type="button" class="btn btn-link nav-link" aria-label="Switch Mode" id="mode-toggle"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://github.com/talhahasanzia" aria-label="github" target="_blank" rel="noopener noreferrer" > <i class="fab fa-github"></i> </a> <a href="https://twitter.com/talhahasanzia" aria-label="twitter" target="_blank" rel="noopener noreferrer" > <i class="fa-brands fa-x-twitter"></i> </a> <a href="https://www.linkedin.com/in/talhahasanzia" aria-label="linkedin" target="_blank" rel="noopener noreferrer" > <i class="fab fa-linkedin"></i> </a></div></aside><div id="main-wrapper" class="d-flex justify-content-center"><div class="container d-flex flex-column px-xxl-5"><header id="topbar-wrapper" aria-label="Top Bar"><div id="topbar" class="d-flex align-items-center justify-content-between px-lg-3 h-100" ><nav id="breadcrumb" aria-label="Breadcrumb"> <span> <a href="/">Home</a> </span> <span>Unconventional Raycasting</span></nav><button type="button" id="sidebar-trigger" class="btn btn-link"> <i class="fas fa-bars fa-fw"></i> </button><div id="topbar-title"> Post</div><button type="button" id="search-trigger" class="btn btn-link"> <i class="fas fa-search fa-fw"></i> </button> <search id="search" class="align-items-center ms-3 ms-lg-0"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..." > </search> <button type="button" class="btn btn-link text-decoration-none" id="search-cancel">Cancel</button></div></header><div class="row flex-grow-1"><main aria-label="Main Content" class="col-12 col-lg-11 col-xl-9 px-md-4"><article class="px-1" data-toc="false"><header><h1 data-toc-skip>Unconventional Raycasting</h1><p class="post-desc fw-light mb-4">Raycasting basics</p><div class="post-meta text-muted"> <span> Posted <time data-ts="1442257200" data-df="ll" data-bs-toggle="tooltip" data-bs-placement="bottom" > Sep 15, 2015 </time> </span><div class="d-flex justify-content-between"> <span> By <em> <a href="https://twitter.com/talhahasanzia">Talha Zia</a> </em> </span><div> <span class="readtime" data-bs-toggle="tooltip" data-bs-placement="bottom" title="685 words" > <em>3 min</em> read</span></div></div></div></header><div class="content"><p><a href="/../../../images/raycast-title.png?raw=true" class="popup img-link shimmer"><img src="/../../../images/raycast-title.png?raw=true" alt="Alt text" title="raycast" loading="lazy"></a></p><h1 id="unconventional-raycasting">Unconventional Raycasting</h1><p>If you have not worked on any FPS or any other shooter game until now, it is easy to predict that you would not have needed the raycasting other than conventional way. The commonly used raycasting techniques include the directions up or down, right or left, or forward or backwards.</p><p>It can be quite difficult when the angle at which ray to be casted is, say, 45 degrees up, like for flak cannons or SAMs. In this case we can not use simple transform.up with say some +45 or -45 angles. This is possible by specifying the axis. What if the angle we need is something 56 degrees on x-axis and 120 degrees y-axis? And what if you have to design something when there is change in direction after every frame or a callback implementation. This following tryout demonstrates how easily you can manage to set the angle of the ray where to be casted just by few simple tweaks in your traditional raycasting code.</p><p><a href="https://github.com/talhahasanzia/RaycastTest">The whole project which is in this tutorial can be downloaded from GitHub from here.</a></p><p>Now first, we need an origin from which ray will be generated, at this moment we are assuming that our origin stays at a fixed position, but we can alter it the way we want. In my case, I have created a scene where a plane is aiming using raycast to determine the aim direction. The origin is the nose tip of the plane from where ray is generated. The plane is in a large box to make the raycasting work. One thing to remember here is that Physics.Raycast returns true only when raycast hits a collider, so we can not do this in open sky. Due to the enclosing box, no matter in which direction the ray is casted, it will be detected. The scene looks like this:</p><p><a href="/../../../images/ray1.png?raw=true" class="popup img-link shimmer"><img src="/../../../images/ray1.png?raw=true" alt="Alt text" title="raycast" loading="lazy"></a></p><p>It is not very fancy but it will do the trick. Now we need to have a look at our script. Open file named ‘BasicControl.cs’ in the assets folder of the project and you will see following code:</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
</pre><td class="rouge-code"><pre>public class BasicControl : MonoBehaviour {
 
public float x = 10, y = 0, z = 0; // angles
 
public GameObject AirCraft;
public GameObject rayCastOrigin;
 
RaycastHit RayHit;
 
void Update ()
 {
 
   if (Physics.Raycast(rayCastOrigin.transform.position, Quaternion.Euler(x, y, z) * transform.forward, out RayHit, Mathf.Infinity))
   {
 
   Debug.DrawLine(rayCastOrigin.transform.position, RayHit.point, Color.red);
 
   }
 
 }
}
</pre></table></code></div></div><p>By setting the access modifier of float x,y,z to public we can change there values from the editor even at runtime. Here x, y and z represents the angles at x , y and z axes respectively. The RaycastHit object tells us the details about the game object on which ray is hit, that is why we have to make sure ray hits something,</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>if (Physics.Raycast(rayCastOrigin.transform.position, Quaternion.Euler(x, y, z) * transform.forward, out RayHit, Mathf.Infinity))
</pre></table></code></div></div><p>Then, if ray collides with an object, RaycastHit collects data of that object which can be used in various ways. Here we are using the position of the object which is being hit by RayHit.point property , it returns x,y,z co ordinates of that object. Rays are not rendered either in scene or game window, so we draw a line from our origin point rayCastOrigin.transform.position to that object.</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>Debug.DrawLine(rayCastOrigin.transform.position, RayHit.point, Color.red);
</pre></table></code></div></div><p>By doing this we will see a line drawn in the path of the ray, which will be visible in scene window. Run the project, click on the Aircraft , you will see the Script component where it shows Basic Control script and its public variables X , Y and Z.</p><p><a href="/../../../images/ray2.png?raw=true" class="popup img-link shimmer"><img src="/../../../images/ray2.png?raw=true" alt="Alt text" title="raycast" loading="lazy"></a></p><p>Change the values of these and see how it affects the angle of ray. Now we can adjust the direction of the ray at any angle required. The script can be edited to change the angle at every frame to give it a radar effect. Or set the ray angle in desired direction and save x, y, z angles for other uses.</p><p><a href="/../../../images/ray3.png?raw=true" class="popup img-link shimmer"><img src="/../../../images/ray3.png?raw=true" alt="Alt text" title="raycast" loading="lazy"></a></p><p><a href="https://github.com/talhahasanzia/RaycastTest">Download project.</a></p><p>Photo Credit: <a href="https://www.flickr.com/photos/imajilon/5318340181/">Laura Harris (Flickr)</a></p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw me-1"></i> <a href="/categories/unity3d/">Unity3d</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw me-1"></i> <a href="/tags/raycasting/" class="post-tag no-text-decoration" >raycasting</a> <a href="/tags/unity3d/" class="post-tag no-text-decoration" >unity3d</a></div><div class=" post-tail-bottom d-flex justify-content-between align-items-center mt-5 pb-2 " ><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper d-flex align-items-center"> <span class="share-label text-muted">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Unconventional%20Raycasting%20-%20Half%20Smart&url=https%3A%2F%2Ftalhahasanzia.github.io%2Fposts%2Fray-casting%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Twitter" aria-label="Twitter"> <i class="fa-fw fa-brands fa-square-x-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Unconventional%20Raycasting%20-%20Half%20Smart&u=https%3A%2F%2Ftalhahasanzia.github.io%2Fposts%2Fray-casting%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Facebook" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=https%3A%2F%2Ftalhahasanzia.github.io%2Fposts%2Fray-casting%2F&text=Unconventional%20Raycasting%20-%20Half%20Smart" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Telegram" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <button id="copy-link" aria-label="Copy link" class="btn small" data-bs-toggle="tooltip" data-bs-placement="top" title="Copy link" data-title-succeed="Link copied successfully!" > <i class="fa-fw fas fa-link pe-none fs-6"></i> </button> </span></div></div></div></article></main><aside aria-label="Panel" id="panel-wrapper" class="col-xl-3 ps-2 text-muted"><div class="access"><section id="access-lastmod"><h2 class="panel-heading">Recently Updated</h2><ul class="content list-unstyled ps-0 pb-1 ms-1 mt-2"><li class="text-truncate lh-lg"> <a href="/posts/setting-up-flutter/">Setting up Flutter with Android Studio</a><li class="text-truncate lh-lg"> <a href="/posts/BUSINESS-RULE-ENIGNES/">Business Rule Engines 101 - What, How, When Where?</a><li class="text-truncate lh-lg"> <a href="/posts/DATA-BITES-101/">Data Bites 101 - The teams that never fell below top 10 FIFA rankings</a><li class="text-truncate lh-lg"> <a href="/posts/ordered-broadcast/">Android - Understanding Ordered Broadcasts</a><li class="text-truncate lh-lg"> <a href="/posts/unit-testing/">Android - Unit Testing for Dummies</a></ul></section><section><h2 class="panel-heading">Trending Tags</h2><div class="d-flex flex-wrap mt-3 mb-1 me-3"> <a class="post-tag btn btn-outline-primary" href="/tags/android/">android</a> <a class="post-tag btn btn-outline-primary" href="/tags/data/">data</a> <a class="post-tag btn btn-outline-primary" href="/tags/bre/">bre</a> <a class="post-tag btn btn-outline-primary" href="/tags/broadcasts/">broadcasts</a> <a class="post-tag btn btn-outline-primary" href="/tags/businessrules/">businessrules</a> <a class="post-tag btn btn-outline-primary" href="/tags/dart/">dart</a> <a class="post-tag btn btn-outline-primary" href="/tags/datavisualization/">datavisualization</a> <a class="post-tag btn btn-outline-primary" href="/tags/flutter/">flutter</a> <a class="post-tag btn btn-outline-primary" href="/tags/java/">java</a> <a class="post-tag btn btn-outline-primary" href="/tags/mathplotlib/">mathplotlib</a></div></section></div></aside></div><div class="row"><div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 px-md-4"><nav class="post-navigation d-flex justify-content-between" aria-label="Post Navigation"><div class="btn btn-outline-primary disabled" aria-label="Older"><p>-</p></div><a href="/posts/unit-testing/" class="btn btn-outline-primary" aria-label="Newer" ><p>Android - Unit Testing for Dummies</p></a></nav><footer aria-label="Site Info" class=" d-flex flex-column justify-content-center text-muted flex-lg-row justify-content-lg-between align-items-lg-center pb-lg-3 " ><p>© <time>2025</time> <a href="https://twitter.com/talhahasanzia">Talha Zia</a>. <span data-bs-toggle="tooltip" data-bs-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author." >Some rights reserved.</span></p><p>Using the <a data-bs-toggle="tooltip" data-bs-placement="top" title="v7.2.4" href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener" >Chirpy</a> theme for <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a>.</p></footer></div></div><div id="search-result-wrapper" class="d-flex justify-content-center d-none"><div class="col-11 content"><div id="search-hints"><section><h2 class="panel-heading">Trending Tags</h2><div class="d-flex flex-wrap mt-3 mb-1 me-3"> <a class="post-tag btn btn-outline-primary" href="/tags/android/">android</a> <a class="post-tag btn btn-outline-primary" href="/tags/data/">data</a> <a class="post-tag btn btn-outline-primary" href="/tags/bre/">bre</a> <a class="post-tag btn btn-outline-primary" href="/tags/broadcasts/">broadcasts</a> <a class="post-tag btn btn-outline-primary" href="/tags/businessrules/">businessrules</a> <a class="post-tag btn btn-outline-primary" href="/tags/dart/">dart</a> <a class="post-tag btn btn-outline-primary" href="/tags/datavisualization/">datavisualization</a> <a class="post-tag btn btn-outline-primary" href="/tags/flutter/">flutter</a> <a class="post-tag btn btn-outline-primary" href="/tags/java/">java</a> <a class="post-tag btn btn-outline-primary" href="/tags/mathplotlib/">mathplotlib</a></div></section></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><aside aria-label="Scroll to Top"> <button id="back-to-top" type="button" class="btn btn-lg btn-box-shadow"> <i class="fas fa-angle-up"></i> </button></aside></div><div id="mask" class="d-none position-fixed w-100 h-100 z-1"></div><aside id="notification" class="toast" role="alert" aria-live="assertive" aria-atomic="true" data-bs-animation="true" data-bs-autohide="false" ><div class="toast-header"> <button type="button" class="btn-close ms-auto" data-bs-dismiss="toast" aria-label="Close" ></button></div><div class="toast-body text-center pt-0"><p class="px-2 mb-3">A new version of content is available.</p><button type="button" class="btn btn-primary" aria-label="Update"> Update </button></div></aside><script> document.addEventListener('DOMContentLoaded', () => { SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<article class="px-1 px-sm-2 px-lg-4 px-xl-0"><header><h2><a href="{url}">{title}</a></h2><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div></header><p>{snippet}</p></article>', noResultsText: '<p class="mt-5">Oops! No results found.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="me-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); }); </script>
