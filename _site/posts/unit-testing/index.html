<!doctype html><html lang="en" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="theme-color" media="(prefers-color-scheme: light)" content="#f7f7f7"><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1b1b1e"><meta name="mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><meta name="viewport" content="width=device-width, user-scalable=no initial-scale=1, shrink-to-fit=no, viewport-fit=cover" ><meta name="generator" content="Jekyll v4.3.4" /><meta property="og:title" content="Android - Unit Testing for Dummies" /><meta property="og:locale" content="en" /><meta name="description" content="Read about how you can start your unit test journey and become a better developer." /><meta property="og:description" content="Read about how you can start your unit test journey and become a better developer." /><link rel="canonical" href="https://talhahasanzia.github.io/posts/unit-testing/" /><meta property="og:url" content="https://talhahasanzia.github.io/posts/unit-testing/" /><meta property="og:site_name" content="Half Smart" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2020-01-30T00:00:00+05:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Android - Unit Testing for Dummies" /><meta name="twitter:site" content="@talhahasanzia" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2020-01-30T00:00:00+05:00","datePublished":"2020-01-30T00:00:00+05:00","description":"Read about how you can start your unit test journey and become a better developer.","headline":"Android - Unit Testing for Dummies","mainEntityOfPage":{"@type":"WebPage","@id":"https://talhahasanzia.github.io/posts/unit-testing/"},"url":"https://talhahasanzia.github.io/posts/unit-testing/"}</script><title>Android - Unit Testing for Dummies | Half Smart</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Half Smart"><meta name="application-name" content="Half Smart"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="/assets/css/jekyll-theme-chirpy.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.7.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tocbot@4.32.2/dist/tocbot.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/glightbox@3.3.0/dist/css/glightbox.min.css"> <script src="/assets/js/dist/theme.min.js"></script> <script defer src="https://cdn.jsdelivr.net/combine/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js,npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.umd.min.js,npm/glightbox@3.3.0/dist/js/glightbox.min.js,npm/clipboard@2.0.11/dist/clipboard.min.js,npm/dayjs@1.11.13/dayjs.min.js,npm/dayjs@1.11.13/locale/en.js,npm/dayjs@1.11.13/plugin/relativeTime.js,npm/dayjs@1.11.13/plugin/localizedFormat.js,npm/tocbot@4.32.2/dist/tocbot.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script defer src="/app.min.js?baseurl=&register=true" ></script><body><aside aria-label="Sidebar" id="sidebar" class="d-flex flex-column align-items-end"><header class="profile-wrapper"> <a href="/" id="avatar" class="rounded-circle"><img src="/idea.png" width="112" height="112" alt="avatar" onerror="this.style.display='none'"></a> <a class="site-title d-block" href="/">Half Smart</a><p class="site-subtitle fst-italic mb-0">Guiding you halfway, the rest is your journey.</p></header><nav class="flex-column flex-grow-1 w-100 ps-0"><ul class="nav"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tags"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle"></i> <span>ABOUT</span> </a></ul></nav><div class="sidebar-bottom d-flex flex-wrap align-items-center w-100"> <button type="button" class="btn btn-link nav-link" aria-label="Switch Mode" id="mode-toggle"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://github.com/talhahasanzia" aria-label="github" target="_blank" rel="noopener noreferrer" > <i class="fab fa-github"></i> </a> <a href="https://twitter.com/talhahasanzia" aria-label="twitter" target="_blank" rel="noopener noreferrer" > <i class="fa-brands fa-x-twitter"></i> </a> <a href="https://www.linkedin.com/in/talhahasanzia" aria-label="linkedin" target="_blank" rel="noopener noreferrer" > <i class="fab fa-linkedin"></i> </a></div></aside><div id="main-wrapper" class="d-flex justify-content-center"><div class="container d-flex flex-column px-xxl-5"><header id="topbar-wrapper" aria-label="Top Bar"><div id="topbar" class="d-flex align-items-center justify-content-between px-lg-3 h-100" ><nav id="breadcrumb" aria-label="Breadcrumb"> <span> <a href="/">Home</a> </span> <span>Android - Unit Testing for Dummies</span></nav><button type="button" id="sidebar-trigger" class="btn btn-link"> <i class="fas fa-bars fa-fw"></i> </button><div id="topbar-title"> Post</div><button type="button" id="search-trigger" class="btn btn-link"> <i class="fas fa-search fa-fw"></i> </button> <search id="search" class="align-items-center ms-3 ms-lg-0"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..." > </search> <button type="button" class="btn btn-link text-decoration-none" id="search-cancel">Cancel</button></div></header><div class="row flex-grow-1"><main aria-label="Main Content" class="col-12 col-lg-11 col-xl-9 px-md-4"><article class="px-1" data-toc="true"><header><h1 data-toc-skip>Android - Unit Testing for Dummies</h1><p class="post-desc fw-light mb-4">Read about how you can start your unit test journey and become a better developer.</p><div class="post-meta text-muted"> <span> Posted <time data-ts="1580324400" data-df="ll" data-bs-toggle="tooltip" data-bs-placement="bottom" > Jan 30, 2020 </time> </span><div class="d-flex justify-content-between"> <span> By <em> <a href="https://twitter.com/talhahasanzia">Talha Zia</a> </em> </span><div> <span class="readtime" data-bs-toggle="tooltip" data-bs-placement="bottom" title="3875 words" > <em>21 min</em> read</span></div></div></div></header><div id="toc-bar" class="d-flex align-items-center justify-content-between invisible"> <span class="label text-truncate">Android - Unit Testing for Dummies</span> <button type="button" class="toc-trigger btn me-1"> <i class="fa-solid fa-list-ul fa-fw"></i> </button></div><button id="toc-solo-trigger" type="button" class="toc-trigger btn btn-outline-secondary btn-sm"> <span class="label ps-2 pe-1">Contents</span> <i class="fa-solid fa-angle-right fa-fw"></i> </button> <dialog id="toc-popup" class="p-0"><div class="header d-flex flex-row align-items-center justify-content-between"><div class="label text-truncate py-2 ms-4">Android - Unit Testing for Dummies</div><button id="toc-popup-close" type="button" class="btn mx-1 my-1 opacity-75"> <i class="fas fa-close"></i> </button></div><div id="toc-popup-content" class="px-4 py-3 pb-4"></div></dialog><div class="content"><h3 id="what-is-unit-testing"><span class="me-2">What is Unit Testing?</span><a href="#what-is-unit-testing" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><ul><li>In its simplest term, unit testing is testing a small piece of code.<li>A unit test usually targets a single method that perform a single task.<li>Test ensures that the code is behaving as expected and that code has a deterministic outcome.</ul><h3 id="when-the-unit-tests-are-writtenrun"><span class="me-2">When the Unit Tests are written/run?</span><a href="#when-the-unit-tests-are-writtenrun" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>There are generally 2 approaches when writing unit tests,</p><ul><li>One is test-driven-development, in which unit tests are written first, these tests specify requirements and at first they should fail because there is no code to produce required output, the code is then written around them to meet requirements and make tests pass.<li>Other approach is retrospective testing, that is, after writing code, you write unit tests. This is more commonly used approach in practice (if there are unit tests written at all). You simply write code and then write unit tests after the code and validate code behaviours.</ul><p>With both approaches, it is a good practice to run unit tests as often as you can, after every code change, this will result in early identification of flaws in the system.</p><h3 id="who-writes-unit-tests"><span class="me-2">Who writes Unit Tests?</span><a href="#who-writes-unit-tests" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><ul><li>Developers. Period.</ul><h3 id="why-should-you-write-unit-tests"><span class="me-2">Why should you write Unit Tests?</span><a href="#why-should-you-write-unit-tests" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><ul><li>Unit tests validate small pieces code for expected outcomes and report early issues.<li>Unit tests also make sure that the code is giving errors where expected, this way a lot of corner cases are covered.<li>Allows identification of logical bugs in the code when they are covering edge cases.<li>If unit tests are written regularly, they make code resist to changes that breaks the code. If a change in the code fails the unit test, either the code has issue or test is not updated, both ways, its a warning sign for developer to put an extra effort to investigate the issue before closing the development cycle.<li>It seems waste of time and extra effort at the beginning, and it is, but few days effort of maintaining the code with meaningful unit tests saves months of refactoring later.<li>It makes code cleaner – since the tests require certain level of abstraction and loose coupling which make code more cleaner.</ul><h4 id="intention"><span class="me-2">Intention</span><a href="#intention" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><ul><li>The purpose of this writing is to promote the unit tests in software projects, specially those which are shaping the way we live, these projects can be related to finance, medicine, transport or online shopping.<li>The bugs or problems in these software causes both customers and developers to lose their time and money.<li>Promoting unit tests can save a lot of time in covering basic business logic validations and resulting a reliable software which can be fruitful for all the entities in the business.<li>Writing unit test for the sake of unit tests or say achieving high code coverage is not a good idea. If the tests are not playing their part in verifying business flows, they are of no value.<li>In programming, every line of code generates a business value, no one likes to lose business, unit tests verify that the business value that code aims to provide is on the spot.</ul><h4 id="writing-testable-code--a-prerequisite-important"><span class="me-2">Writing Testable Code – A prerequisite (IMPORTANT)</span><a href="#writing-testable-code--a-prerequisite-important" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><ul><li>Unit tests are written in controlled environment, this helps you provide certain conditions under which you expect certain outcomes. If you cannot control the agents or entities that are driving these conditions you cannot be sure about the outputs. This test environment is largely controlled using dependencies you provide to the test case.<li>First and foremost thing is separating the dependencies from the code. For this you should be able to recognize what are the dependencies and what is the actual code that needs to be tested.<li>In terms of Java and Android, if you are working in Android, your business layer should be testable without any Android dependencies.<li>Continuing on Android as example, for the business layer (and unit tests themselves), most of the Android framework stuff will be dependencies for code. Like network library, Retrofit.<li>Considering framework elements as dependencies is helpful but you still need a layer of abstraction so you can drive these framework objects the way you want to, consider following:</ul><p>Instead of:</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>public UserService(User user, Retrofit retrofit)
</pre></table></code></div></div><p>Use some abstraction:</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>public UserService(User user, Request userRequest) 
</pre></table></code></div></div><p>Using an abstraction layer of Request class to wrap retrofit in it so the code doesn’t depend on Android Retrofit.</p><ul><li>Creation of objects should be delegated to upper level, like dependency manager. If a class that needs to be tested is creating its own objects inside, you cannot control data in those objects to test.</ul><p>Instead of using “new” keywords (constructors/initializers) in code:</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre>public UserService(User user){
      request = new Request();
      ...
    }
</pre></table></code></div></div><p>Use dependency injection:</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>public UserService(User user, Request userRequest) 
</pre></table></code></div></div><p>You have now control over creation. You can also use dependency managers like Dagger2 and “inject” this dependency here.</p><ul><li>Another important thing to mention here is composition over inheritance will always be in favour of testable code. Since composition gives you more control over objects when you are using dependency injection, you can easily control these objects in test environment. In above example UserService, you can provide a UserValidator instead of implementing it. Just like UserRepo and Request, it can follow composition. But the abstraction is still maintained since no concrete references are used here.</ul><p>Instead of:</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre>public class UserService implements UserValidator{
...
}
</pre></table></code></div></div><p>You can do:</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre>// constructor injection
public UserService(User user, Request userRequest, UserValidator validator) 
</pre></table></code></div></div><ul><li>Separate creation logic from business logic, that’s what dependency managers do, if this is not the case, you might miss some business logic to test which was ran during creation of objects. Since tests and business classes should not be responsible for creating objects involved in a business logic flow.</ul><p>Avoid writing business logic in constructor or anywhere in creation classes like dependency managers:</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre>  public UserService(User user, Request userRequest){
      if(userRequest !=null){
        this.userRequest= userRequest;   // This block is never tested since it is just creation block
      }
    }
</pre></table></code></div></div><ul><li>Unit tests usually targets business layer, so regardless of any framework you are, your code that needs to be tested must be using the core language libraries. A good way to realize this in Java/Kotlin is to look at imports section. If there is an import that is not coming from core Java/Kotlin it should raise alarm.<div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre>import android.os.Bundle; // --- This is not good in business layer
import android.view.View; // --- This is not good in business layer
import com.selfsol.app.models.user; // --- This is okay as it is a POJO model
</pre></table></code></div></div><p>First priority should be to avoid such dependencies, if not possible their creation should be delegated to dependency managers with proper abstractions. So when this class is tested, these dependencies can easily be mocked with dummy values or behavior and unit tests are not blocked.</p><li>Its nice to have to follow an architectural pattern to manage code, whether it be MVVP, MVP, VIPER or any other, primary goal is to make code clean, maintainable and testable, which makes it helpful to work with such codebase in the longer run.<li>The implementation of architecture doesn’t really provide all the solutions, so there are still few things that needs to be decoupled, like networking and UI stuff.</ul><p>Following example illustrates how this abstraction can be achieved and how it is created in dependency manager layer:</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
</pre><td class="rouge-code"><pre>// class for abstraction of network library
public interface Request   {
    void execute( T data);
}

// class having real network classes and implementation
public class UserRequest implements Request{
    ...
}

// creation of this class
public class SomeDependencyProvider(){
    // notice interface reference in return type
    public Request createRequestObject(){
        return new UserRequest();
    }
}
</pre></table></code></div></div><p>Generally, you don’t need network or UI when writing unit tests, so if there is a good abstraction layer between the business logic layers and UI or Network etc, it will help you mock these entities and validate the actual business logic in tests.</p><ul><li>Static methods makes it hard to test unless they are pure methods and do not use or create any dependency objects in their execution, moreover these static methods or objects cannot be mocked easily which are blocker in unit testing.</ul><p>Consider following class in which one method is acceptable but the other one creates trouble:</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre><td class="rouge-code"><pre>public class Utils{
    // this wont be any trouble
    public static boolean isEmptyString( String string){
        return string !=null &amp;&amp; !string.isEmpty();
    }
    // this will cause issue since this is using an object that is in its static scope and cannot be mocked
    public static Date formatDate(String pattern, long timeInMillis){
        DateFormatter formatter = new DateFormatter( pattern );
        return formatter.format( timeInMillis );
    }
    
}
</pre></table></code></div></div><p>In other words, static classes cant be used with dependency injections so they lack this flexibility of being separating creation logic from actual business logic. This brings you to the point number 1, where you are unable to control the test environment.</p><ul><li>Tests are written for public methods. Because other classes or layers call public methods of classes that provide business logic. These methods in turn, call private methods which itself covers these private methods. DON’T make private methods public for just writing TESTS.<div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre><td class="rouge-code"><pre>public class UserService{

  public boolean validateUser(User user){
      validateAge(age);
  }
    
  private boolean validateAge(int age){
  }
}
</pre></table></code></div></div></ul><p>In above example, you will write test for validateUser(), which will also cover validateAge(), if you do want to test such methods individually you can introduce an interface that contains these signatures, in this way these methods will hide their implementation details and yet they will be accessible for testing from outside or mocking if required.</p><ul><li>When writing a test for a class, the target class should be instantiated as a concrete implementation, so the real code is ran, and all other participating objects are mocked. If the participating objects have abstraction (they are interface objects), mocking becomes easy.</ul><p>Consider writing test for UserService:</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
</pre><td class="rouge-code"><pre>@RunWith(MockitoJUnitRunner.class)
public class UserServiceTest {
    // Class reference
    private UserService userService;
    
    // interface reference mocked
    @Mock
    Request request;

    // interface reference mocked
    @Mock
    UserRepo userRepo;
...
}
</pre></table></code></div></div><p>You can later define how “request” behaves when its methods are called, same for “userRepo”. Point is, making them abstract, decoupled and using dependency injection pattern, it is easier to control these participating objects and you can design your test by providing values and behaviours the way you like to.</p><h3 id="writing-unit-tests"><span class="me-2">Writing Unit Tests</span><a href="#writing-unit-tests" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>In the following discussion I will be using Java as the example language and some references from Android Framework. Regardless of this fact, the general guidelines and practices will apply to any OOP based framework.</p><ul><li>You will use Java and its testing framework JUnit in these examples, moreover, you will refer Mockito for mocking objects.<li>You will focus on UserService (or UserManager) example, in which, you will validate creation of valid users in a system.<li>You will not test classes that serves as dependencies in the UserService, these are UI classes referred as “View” in most of the architectures and Network classes like Request or Response. You will mock these dependencies.<li>It is not your responsibility to test 3rd Party library classes like Retrofit, Gson, Picasso, OkHttp etc.<li>Meaningful names of test methods should be used, these names can be longer as long as they are self explanatory.<li>AAA Testing Pattern – Arrange, Act, Assert is the pattern you will use and it goes as follows:<ul><li>Arrange: Setup objects, parameters and environment for the test<li>Act: Perform action, the actual code is ran on which test is to be done<li>Assert: Assertion or validation is made on the action that was performed if it is giving required results or not</ul></ul><p>See <a href="https://github.com/talhahasanzia/unit-testing-cheatsheet/blob/master/UserServiceTest.java">UserServiceTest</a> for details.</p><h4 id="arrange"><span class="me-2">Arrange</span><a href="#arrange" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>Set dummy inputs for data before executing actual test call. If there are any methods to be mocked, they are also done in this phase.</p><p>Lets declare objects first:</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre><td class="rouge-code"><pre>   private UserService userService;

   @Mock
   Request request;

   @Mock
   UserRepo userRepo;

</pre></table></code></div></div><p>How mocks work?</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre>   // MockitoJunitRunner initializes mocks itself when tests starts
   @RunWith(MockitoJUnitRunner.class)
   public class UserServiceTest { ...
</pre></table></code></div></div><p>Setting up the Test Class:</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>userService = new UserService(request, userRepo); // in @Before method
</pre></table></code></div></div><p>The setup seems easy and simple because you already followed the practices in the code that are test friendly, here using injection pattern instead of creating dependencies in the object itself. You were able to provide UserRepo and Request from outside based on your requirement here.</p><p>Setting up requirement that are specific to the test case:</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre><td class="rouge-code"><pre>    @Test
    public void testValidAge_inputPositiveNumber_shouldValidateSuccess() {
        // Arrange
        val testAge = 18
        ...
    }
</pre></table></code></div></div><h4 id="act"><span class="me-2">Act</span><a href="#act" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>Now you perform your test:</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre>    @Test
    public void testValidAge_inputPositiveNumber_shouldValidateSuccess() {
        ...
        // Act
        boolean result = userService.validateAge(testAge);
        ...
    }
</pre></table></code></div></div><p>This is how you right test in JUnit. Notice that the function name is like a sentence that tells the whole story. In source code, this convention may not be liked in general, but in tests, this is preferred. It explains a lot about the test. Since tests dont have that amount of documentation that code has (if any), this is important. The convention goes like this:</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>testMethod_conditions_outcomes()
</pre></table></code></div></div><p>Then the “act” happens. The method is called and the value is captured.</p><h4 id="assert"><span class="me-2">Assert</span><a href="#assert" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre><td class="rouge-code"><pre>    @Test
    public void testValidAge_inputPositiveNumber_shouldValidateSuccess() {
        // Arrange
        ...
        // Act
        ...
        // Assert
        assertTrue("Expected to validate positive number as valid age but failed", result);
    } 
</pre></table></code></div></div><p>The value captured in the act is asserted to be true or false. The assertTrue is a JUnit assertion method which checks the given condition along with option to provide a message in case of failure. Let’s not go into implementation at this point just the approach. All the implementations are left blank.</p><p>There is a message Expected to validate positive number as valid age but failed passed as 1st parameter. This is failure message. It is important to flag failures with meaningful messages. So when someone come across a failed test case in the log, s/he can identify what is the problem. This is also a good practice.</p><h4 id="but-wait-your-code-is-not-that-simple"><span class="me-2">But wait, your code is not that simple!</span><a href="#but-wait-your-code-is-not-that-simple" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>In most of the cases, this assert flow works in tests. But sometimes the methods don’t return values. Like in <code class="language-plaintext highlighter-rouge">VIPER</code> which uses callback pattern. In this case view is holding reference to presenter and a view reference is inside a presenter. <code class="language-plaintext highlighter-rouge">View</code> calls <code class="language-plaintext highlighter-rouge">presenter.fetchSomething()</code> this method does not return anything but after it fetches, it calls view.<code class="language-plaintext highlighter-rouge">onSuccessfulFetch()</code>. How can you test presenter since its methods don’t return anything?</p><p>Similarly in case of Request when the <code class="language-plaintext highlighter-rouge">UserService</code> calls <code class="language-plaintext highlighter-rouge">createUser(User user)</code>, it doesn’t do anything. It calls <code class="language-plaintext highlighter-rouge">request.execute(user, this)</code> and return nothing.</p><p>There are two things you can do to test the flows or method that dont return anything:</p><ul><li>If the method calls another method on any other object, this method call can be verified using Mockito framework. This is called testing interactions where you cannot test states (asserting values).<li>Check if the code runs without any exception. This is not the only thing you should be doing, but in rare cases like these, this is important factor.</ul><p>Following code piece can illustrate this as:</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre><td class="rouge-code"><pre>    @Test
    public void testCreateUser_validUserProvided_shouldCallRequestExecuteWithUser(){
        // act
        userService.createUser(user);
        // assert
        Mockito.verify(request).execute(user, userService);

    }
</pre></table></code></div></div><p>One of the coolest thing that this <code class="language-plaintext highlighter-rouge">verify</code> does is that it matches the parameter with actual call. For example:</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>Mockito.verify(request).execute(user, userService);
</pre></table></code></div></div><p>will pass the test, but</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>Mockito.verify(request).execute(null, userService);
</pre></table></code></div></div><p>will fail, why? Because the actual call used same object as you mentioned. This was your specific case where you knew both parameters, but cases where you don’t know the exact parameters, you can specify any() in parameter to allow any object with any value. You can also narrow down this to specific type calling any(String.class) this will allow objects with only string type but with any value in it.</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>Mockito.verify(request).execute(any(), userService);
</pre></table></code></div></div><p>This is really useful in callback patterns. In simple method call a value is returned. In callbacks, the value is returned in a callback’s success method as parameters. Consider following asynchronous call made for validation earlier:</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre>// simple call
boolean result = userService.validateAge(18);
</pre></table></code></div></div><p>And its callback version would look like:</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre>userService.validateAge(18, validationCallback);
....
</pre></table></code></div></div><p>and where the validation callback is implemented:</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre>...
onValidationComplete(boolean success){
...
}
</pre></table></code></div></div><p>You can see that boolean value that was returned in simple call is now a parameter for callback’s method. Considering same example you can write assertion as:</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>Mockito.verify(validationCallback).onValidationComplete(true);
</pre></table></code></div></div><p>This should work right? No. Since the object is mocked you have to specify that when this asynchronous call is made, you need to invoke onValidationComplete(). If this object was not a mock object, the above assertion along with following mocking would not be possible. Why asynchronous is mentioned before? because going on callback pattern has one main purpose of being non-blocking operations.</p><p>So how are you going to mock the behavior of these objects? Mocking a method of an object that is marked as Mock is as easy as:</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre>// this should be done in "Arrange" phase, in your case in setup() method
Mockito.when(userValidator.validateId(l363)).thenReturn(true);
</pre></table></code></div></div><p>This will setup userValidator to return true when its validateId() is called with id 1363. Similarly you can design many flows using same approach including multiple happy cases and also failure cases to test if code gives expected output on wrong inputs. All great but this is not applicable for callback/asynchronous methods.</p><p>Luckily, in Java, you have Mockito‘s Answer to solve the problem. But you have to make another change. Since you want to mock response, you will have to provide it as dependency. See this is how unit tests can help refactor your code to be more decoupled and resilient. Now coming back to point.</p><p>Making Response testable in <code class="language-plaintext highlighter-rouge">UserService</code>: (Refer to <a href="https://github.com/talhahasanzia/unit-testing-guide/blob/master/UserService2.java">UserService2</a>)</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
</pre><td class="rouge-code"><pre>public class UserService2 implements UserValidator { // notice it is not implementing Response Callback now

    private Request request;
    private UserRepo repo;
    private Response responseCallback;

    public UserService2(Request request, UserRepo repo, Response response) {
        this.request = request;
        this.repo = repo;
        responseCallback= response;
    }

 ...

}
</pre></table></code></div></div><p>Mocking Callback object so its calls can be tested using <code class="language-plaintext highlighter-rouge">Mockito</code>: (See <a href="https://github.com/talhahasanzia/unit-testing-guide/blob/master/UserService2Test.java">UserService2Test</a>)</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
</pre><td class="rouge-code"><pre>@RunWith(MockitoJUnitRunner.class)
public class UserService2Test {

    private UserService2 userService;

    @Mock
    Request request;

    @Mock
    UserRepo userRepo;

    @Mock
    User user;

    @Mock
    private Response response;

    @Before
    public void setup() {
        userService = new UserService2(request, userRepo, response);
    }

    @Test
    public void testCreateUser_validUserProvided_shouldCallRequestExecuteWithUser() {
        // arrange
        mockRequestCallbackResponse();
        // act
        userService.createUser(user);
        // assert
        Mockito.verify(request).execute(user, response); // verify request.execute was called
        Mockito.verify(response).onSuccess(user); // verify callback method was called with parameter specified

    }
    
    // call onSuccess on 2nd argument object as in invocation.getArguments()[1] (0 - first, 1 - second)
    private void mockRequestCallbackResponse() {
        Mockito.doAnswer((Answer) invocation -&gt; {
            Response callback = (Response) invocation.getArguments()[1];
            callback.onSuccess(user);
            return null;
            // when request.execute is called
        }).when(request).execute(user, response);
       
    }

}
</pre></table></code></div></div><p>This is like: When <code class="language-plaintext highlighter-rouge">request.execute(user, response)</code> is called, call <code class="language-plaintext highlighter-rouge">onSuccess(user)</code> on response object that was passed. And the parameter checks will work like same as mentioned before.</p><h4 id="mockito-in-kotlin"><span class="me-2">Mockito in Kotlin</span><a href="#mockito-in-kotlin" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>Kotlin reflections work little bit different than java, in above examples, You have used java, but it should be same for Kotlin, except one thing, mockito you used above cannot mock Kotlin classes. There is a very useful library available on github as <a href="https://github.com/nhaarman/mockito-kotlin">nhaarman/mockito-kotlin</a> (Now officially available in <code class="language-plaintext highlighter-rouge">Mockito</code> as of January 2024). This has pretty much everything you need in Kotlin, so you are good to go!</p><h4 id="architecture-components--can-you-write-unit-tests"><span class="me-2">Architecture Components – Can You write unit tests?</span><a href="#architecture-components--can-you-write-unit-tests" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>Now, you have seen drastic improvements in terms of architecture favoured official libraries from Android Team at Google, most prominently, you see MVVM is pushed as standard way of writing Android apps. It’s very easy to loose the sense of writing SOLID code if you don’t have a good understanding of layered architectures, when you have such libraries as LiveData, Room, ViewModel and the awesome Flow API. The point is, no matter how good or efficient these libraries are, your code must have testing module. This argument is supported with the fact that team at Google has always mentioned libraries supporting tests and showing test samples in conferences and talks throughout releases of AndroidX Libraries. There are a lot of resources to get you started testing your MVVM app. One of my personal favorite is <a href="https://codelabs.developers.google.com/codelabs/advanced-android-kotlin-training-testing-basics/index.html?index=..%2F..index#0">Codelab</a>.</p><p>The point is, no matter what architecture or libraries are used, if code is well written there will always be a way to write meaningful unit tests. So don’t get lost in fantasies of modern APIs, in fact do get lost in them, explore, try and break them, but remember the fundamental goal : clean; working; bug free code.</p><h4 id="cook-your-own-recipe"><span class="me-2">Cook your own recipe</span><a href="#cook-your-own-recipe" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>There is a fair chance that none of above mentioned architectures or libraries are being used in your project. If you remember at the start, its mentioned that most of the guidelines are independent and would like to point that out here again. Cook your own recipe, take ingredients from clean code and official stable libraries. Make sure whatever architecture or libraries you are using is, in its simplest form, loosely coupled and testable.</p><h4 id="key-takeaways"><span class="me-2">Key Takeaways</span><a href="#key-takeaways" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>Now you have powerful tools at your disposal to write unit tests for most of the code in your project. To put things in perspective, testing on methods that return anything is done with simple <code class="language-plaintext highlighter-rouge">asserts</code> that test state of returned values. Testing on methods that don’t return anything is done with <code class="language-plaintext highlighter-rouge">verify</code>. Although it takes much effort to test methods that return no value, but you can actually test the whole interaction along with testing state of the parameters which are same as returned values most of the time.</p><p>Some developers take approach of mocking servers that use Retrofit callbacks and those clients. The goal in unit tests is just to mock this layer and if you can do it in a simpler way with just using <code class="language-plaintext highlighter-rouge">Mockito</code> in Java why not go for it, although this way needs an abstraction layer but that’s what makes code loosely coupled. This is also applicable to testing network calls, I/O asynchronous calls or any long running operation that business logic involves. As long as dependencies are well managed and code is loosely coupled, you can almost write test in any case!</p><p>Feel free to give feedback on what I might have missed or what can be improved in this small piece of writing. Find the source code of example classes <a href="https://github.com/talhahasanzia/unit-testing-guide">here</a>. Thanks for reading!</p><p>And remember to follow https://testing.googleblog.com/ for updates on new testing libraries and approaches. And https://android-developers.googleblog.com/ for the latest Android news and blogs.</p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw me-1"></i> <a href="/categories/testing/">Testing</a>, <a href="/categories/android/">Android</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw me-1"></i> <a href="/tags/android/" class="post-tag no-text-decoration" >android</a> <a href="/tags/unittesting/" class="post-tag no-text-decoration" >unittesting</a> <a href="/tags/testing/" class="post-tag no-text-decoration" >testing</a> <a href="/tags/mockito/" class="post-tag no-text-decoration" >mockito</a></div><div class=" post-tail-bottom d-flex justify-content-between align-items-center mt-5 pb-2 " ><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper d-flex align-items-center"> <span class="share-label text-muted">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Android%20-%20Unit%20Testing%20for%20Dummies%20-%20Half%20Smart&url=https%3A%2F%2Ftalhahasanzia.github.io%2Fposts%2Funit-testing%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Twitter" aria-label="Twitter"> <i class="fa-fw fa-brands fa-square-x-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Android%20-%20Unit%20Testing%20for%20Dummies%20-%20Half%20Smart&u=https%3A%2F%2Ftalhahasanzia.github.io%2Fposts%2Funit-testing%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Facebook" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=https%3A%2F%2Ftalhahasanzia.github.io%2Fposts%2Funit-testing%2F&text=Android%20-%20Unit%20Testing%20for%20Dummies%20-%20Half%20Smart" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Telegram" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <button id="copy-link" aria-label="Copy link" class="btn small" data-bs-toggle="tooltip" data-bs-placement="top" title="Copy link" data-title-succeed="Link copied successfully!" > <i class="fa-fw fas fa-link pe-none fs-6"></i> </button> </span></div></div></div></article></main><aside aria-label="Panel" id="panel-wrapper" class="col-xl-3 ps-2 text-muted"><div class="access"><section id="access-lastmod"><h2 class="panel-heading">Recently Updated</h2><ul class="content list-unstyled ps-0 pb-1 ms-1 mt-2"><li class="text-truncate lh-lg"> <a href="/posts/BUSINESS-RULE-ENIGNES/">Business Rule Engines 101 - What, How, When Where?</a><li class="text-truncate lh-lg"> <a href="/posts/DATA-BITES-101/">Data Bites 101 - The teams that never fell below top 10 FIFA rankings</a><li class="text-truncate lh-lg"> <a href="/posts/ordered-broadcast/">Android - Understanding Ordered Broadcasts</a><li class="text-truncate lh-lg"> <a href="/posts/unit-testing/">Android - Unit Testing for Dummies</a><li class="text-truncate lh-lg"> <a href="/posts/ray-casting/">Unconventional Raycasting</a></ul></section><section><h2 class="panel-heading">Trending Tags</h2><div class="d-flex flex-wrap mt-3 mb-1 me-3"> <a class="post-tag btn btn-outline-primary" href="/tags/android/">android</a> <a class="post-tag btn btn-outline-primary" href="/tags/data/">data</a> <a class="post-tag btn btn-outline-primary" href="/tags/bre/">bre</a> <a class="post-tag btn btn-outline-primary" href="/tags/broadcasts/">broadcasts</a> <a class="post-tag btn btn-outline-primary" href="/tags/businessrules/">businessrules</a> <a class="post-tag btn btn-outline-primary" href="/tags/datavisualization/">datavisualization</a> <a class="post-tag btn btn-outline-primary" href="/tags/java/">java</a> <a class="post-tag btn btn-outline-primary" href="/tags/mathplotlib/">mathplotlib</a> <a class="post-tag btn btn-outline-primary" href="/tags/mockito/">mockito</a> <a class="post-tag btn btn-outline-primary" href="/tags/orderedbroadcast/">orderedbroadcast</a></div></section></div><div class="toc-border-cover z-3"></div><section id="toc-wrapper" class="invisible position-sticky ps-0 pe-4 pb-4"><h2 class="panel-heading ps-3 pb-2 mb-0">Contents</h2><nav id="toc"></nav></section></aside></div><div class="row"><div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 px-md-4"><aside id="related-posts" aria-labelledby="related-label"><h3 class="mb-4" id="related-label">Further Reading</h3><nav class="row row-cols-1 row-cols-md-2 row-cols-xl-3 g-4 mb-4"><article class="col"> <a href="/posts/ordered-broadcast/" class="post-preview card h-100"><div class="card-body"> <time data-ts="1711047600" data-df="ll" > Mar 22, 2024 </time><h4 class="pt-0 my-2">Android - Understanding Ordered Broadcasts</h4><div class="text-muted"><p>Special broadcasts that can be prioritized, stopped propagation and even modified for next receiver.</p></div></div></a></article></nav></aside><nav class="post-navigation d-flex justify-content-between" aria-label="Post Navigation"> <a href="/posts/ray-casting/" class="btn btn-outline-primary" aria-label="Older" ><p>Unconventional Raycasting</p></a> <a href="/posts/ordered-broadcast/" class="btn btn-outline-primary" aria-label="Newer" ><p>Android - Understanding Ordered Broadcasts</p></a></nav><footer aria-label="Site Info" class=" d-flex flex-column justify-content-center text-muted flex-lg-row justify-content-lg-between align-items-lg-center pb-lg-3 " ><p>© <time>2025</time> <a href="https://twitter.com/talhahasanzia">Talha Zia</a>. <span data-bs-toggle="tooltip" data-bs-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author." >Some rights reserved.</span></p><p>Using the <a data-bs-toggle="tooltip" data-bs-placement="top" title="v7.2.4" href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener" >Chirpy</a> theme for <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a>.</p></footer></div></div><div id="search-result-wrapper" class="d-flex justify-content-center d-none"><div class="col-11 content"><div id="search-hints"><section><h2 class="panel-heading">Trending Tags</h2><div class="d-flex flex-wrap mt-3 mb-1 me-3"> <a class="post-tag btn btn-outline-primary" href="/tags/android/">android</a> <a class="post-tag btn btn-outline-primary" href="/tags/data/">data</a> <a class="post-tag btn btn-outline-primary" href="/tags/bre/">bre</a> <a class="post-tag btn btn-outline-primary" href="/tags/broadcasts/">broadcasts</a> <a class="post-tag btn btn-outline-primary" href="/tags/businessrules/">businessrules</a> <a class="post-tag btn btn-outline-primary" href="/tags/datavisualization/">datavisualization</a> <a class="post-tag btn btn-outline-primary" href="/tags/java/">java</a> <a class="post-tag btn btn-outline-primary" href="/tags/mathplotlib/">mathplotlib</a> <a class="post-tag btn btn-outline-primary" href="/tags/mockito/">mockito</a> <a class="post-tag btn btn-outline-primary" href="/tags/orderedbroadcast/">orderedbroadcast</a></div></section></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><aside aria-label="Scroll to Top"> <button id="back-to-top" type="button" class="btn btn-lg btn-box-shadow"> <i class="fas fa-angle-up"></i> </button></aside></div><div id="mask" class="d-none position-fixed w-100 h-100 z-1"></div><aside id="notification" class="toast" role="alert" aria-live="assertive" aria-atomic="true" data-bs-animation="true" data-bs-autohide="false" ><div class="toast-header"> <button type="button" class="btn-close ms-auto" data-bs-dismiss="toast" aria-label="Close" ></button></div><div class="toast-body text-center pt-0"><p class="px-2 mb-3">A new version of content is available.</p><button type="button" class="btn btn-primary" aria-label="Update"> Update </button></div></aside><script> document.addEventListener('DOMContentLoaded', () => { SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<article class="px-1 px-sm-2 px-lg-4 px-xl-0"><header><h2><a href="{url}">{title}</a></h2><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div></header><p>{snippet}</p></article>', noResultsText: '<p class="mt-5">Oops! No results found.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="me-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); }); </script>
